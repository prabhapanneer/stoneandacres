<section *ngIf="pageLoader">
    <app-loading-spinner></app-loading-spinner>
  </section>
  
  <section *ngIf="!pageLoader" class="over-all smooth-fadein">
    <section class="common-site-section contact">
      <div class="{{template_setting?.body_type}}">
        <div class="row align-items-center justify-content-center mb-4">
            <h1 class="">Referral Program</h1>
        </div>
        <div class="row align-items-center justify-content-center">
          <!-- referral form -->
          <div class="col-md-8">
            <div class="contact-us-form mb-3">
              <form autocomplete="off" (ngSubmit)="onSubmit();" ngNativeValidate>
                <input type="hidden" id="zc_gad" name="zc_gad" value=""/>
                <div class="form-group">
                    <div class="row">
                        <div class="text-center p-3 mb-2 col-md-12">
                            <h1>Your Details</h1>
                        </div>
                        <div class="primary-card form-group p-3 mb-3 col-md-6">
                            <p>Name</p>
                            <input type="text" name="name" class="form-control w-100" [(ngModel)]="referralForm.name" required />
                        </div>
                        <div class="primary-card form-group p-3 mb-3 col-md-6">
                          <p>Mobile</p>
                          <input type="tel" name="mobile" class="form-control w-100" [(ngModel)]="referralForm.mobile" maxlength="15" minlength="10" pattern=".{10,15}" title="Please fill 10 digit mobile number" appNumberOnly required autocomplete="new-password" />
                        </div>
                        <div class="primary-card form-group p-3 mb-3 col-md-6">
                          <p>Email</p>
                          <input type="email" name="email" class="form-control w-100" [(ngModel)]="referralForm.email"
                          pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" title="Please enter a valid Email ID" appLowercase required autocomplete="new-password" />
                        </div>
                        <div class="primary-card form-group p-3 mb-3 col-md-6">
                            <p>Project</p>
                            <select name="project" [(ngModel)]="referralForm.project" style="height:48px !important;">
                              <option [ngValue]="undefined" disabled >Select one</option>
                              <option *ngFor="let x of projectList.list" [ngValue]="x.name">{{x.name}}</option>                                
                            </select>
                        </div>
                        <div class="primary-card form-group p-3 mb-3 col-md-6">
                            <p>Flat/Plot number</p>
                            <input type="text" name="flat_number" class="form-control w-100" [(ngModel)]="referralForm.flat_number" required />
                        </div>
                        
                        <div class="text-center p-3  mb-2 col-md-12">
                            <h1>Referee Details</h1>
                        </div>

                        <div class="primary-card form-group p-3 mb-3 col-md-6">
                            <p>Name</p>
                            <input type="text" name="friend_name" class="form-control w-100" [(ngModel)]="referralForm.friend_name" required />
                        </div>
                        <div class="primary-card form-group p-3 mb-3 col-md-6">
                          <p>Mobile</p>
                          <input type="tel" name="friend_mobile" class="form-control w-100" [(ngModel)]="referralForm.friend_mobile" maxlength="15" minlength="10" pattern=".{10,15}" title="Please fill 10 digit mobile number" appNumberOnly required autocomplete="new-password" />
                        </div>
                        <div class="primary-card form-group p-3 mb-3 col-md-6">
                            <p>Location</p>
                            <input type="text" name="friend_location" class="form-control w-100" [(ngModel)]="referralForm.friend_location" required />
                        </div>
                        <div class="primary-card form-group p-3 mb-3 col-md-6">
                            <p>Project</p>
                            <select name="friend_project" [(ngModel)]="referralForm.friend_project" style="height:48px !important;">
                              <option [ngValue]="undefined" disabled>Select one</option>
                              <option *ngFor="let y of projectList.list" [ngValue]="y.name">{{y.name}}</option>
                            </select>
                        </div>
                    
                        <div *ngIf="alert_msg" [ngClass]="success_alert? 'success-alert': 'danger-alert'">
                          <div class="alert-msg d-flex align-items-center justify-content-center p-2">
                            <span class="material-icons"></span>
                            <p class="m-0">{{ alert_msg }}</p>
                          </div>
                        </div>
                    </div>
                </div>                
                <div class="row justify-content-center align-items-center">
                    <button type="submit" [disabled]="referralForm.submit" class="primary-btn d-flex justify-content-center align-items-center w-md-40">
                        Submit
                        <div *ngIf="referralForm.submit" class="box">
                          <div class="spinner"></div>
                        </div>
                    </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </section>
  </section>
  <form #zohoForm action='https://crm.zoho.com/crm/WebToLeadForm' method='POST' onSubmit='javascript:document.charset="UTF-8";' accept-charset='UTF-8'>
    <input type='hidden' name='xnQsjsdp' value='f6f7384c8d22675f81dd9671ac44b92bb9604e92c1248f154accb7a54c5158f2' />
    <input type='hidden' name='zc_gad' id='zc_gad' value='' />
    <input type='hidden' name='xmIwtLD' value='d24eb38063b01d62d67919337c899972d97c3986eb1c9294bc609eae6d438bde' />
    <input type='hidden' name='actionType' value='TGVhZHM=' />
    <input type='hidden' id='returnURL' name='returnURL' value="{{referralForm.redirect_url}}" />
    <input type='hidden' id='Last_Name' name='Last Name' value="{{referralForm.name}}" />
    <input type='hidden' id='Lead_Source' name='Lead Source' value="{{referralForm.lead_source}}">
    <input type='hidden' id='LEADCF11' name='LEADCF11' value="{{referralForm.type}}"> 
    <input type="hidden" id='Lead_Status' name='Lead Status' value="Not Contacted" />
    <input type='hidden' id='Mobile' name='Mobile' value="{{referralForm.mobile}}">
    <input type='hidden' id='Email' name='Email' value="{{referralForm.email}}">
    <input type='hidden' id='LEADCF15' name='LEADCF15' value="{{referralForm.project}}" />
    <input type='hidden' id='LEADCF82' name='LEADCF82' value="{{referralForm.current_date}}" />
    <input type='hidden' id='Description' name='Description' value="{{referralForm.message}}" />
    <input type="hidden" id='Website' name='Website' value="{{referralForm.website_url}}" />
    <input type="hidden" id='LEADCF5' name='LEADCF5' value="{{referralForm.location}}" />
    <input type="hidden" id='LEADCF4' name='LEADCF4' value="{{referralForm.flat_number}}" />
    <input type="hidden" id='LEADCF1' name='LEADCF1' value="{{referralForm.friend_name}}" />
    <input type="hidden" id='LEADCF2' name='LEADCF2' value="{{referralForm.friend_mobile}}" />
    <input type="hidden" id='LEADCF3' name='LEADCF3' value="{{referralForm.friend_location}}" />
    <input type="hidden" id='LEADCF8' name='LEADCF8' value="{{referralForm.friend_project}}" />
   </form>